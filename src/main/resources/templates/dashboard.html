<!doctype html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
    <head th:replace="~{fragments/head :: head}"></head>

    <body>
        <div th:replace="~{fragments/navbar :: navbar}"></div>
        <div th:replace="~{fragments/sidebar :: sidebar}"></div>

        <div class="main-content">
           <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>
                    <span th:if="${userRole == 'ROLE_CUSTOMER'}">My Dashboard</span>
                    <span th:if="${userRole == 'ROLE_ADMIN'}">System Administration</span>
                    <span th:if="${userRole == 'ROLE_TELLER'}">Teller Workspace</span>
                    <span th:if="${userRole == 'ROLE_MANAGER'}">Branch Manager Overview</span>
                    <span th:if="${userRole == 'ROLE_COMPLIANCE'}">Compliance Monitor</span>
                    <span th:if="${userRole == 'ROLE_RELATIONSHIP_MGR'}">Portfolio Dashboard</span>
                    <span th:if="${userRole == 'ROLE_SUPER_ADMIN'}"><h2 class="mb-4 text-danger"><i class="bi bi-cpu-fill me-2"></i> Central IT Command Center</h2></span>
                </h2>
                <span class="badge bg-secondary" th:text="${userRole}">ROLE</span>
            </div>

            <div sec:authorize="hasRole('ROLE_CUSTOMER')">
                <div th:replace="~{fragments/dashboard-views :: customer-dashboard}"></div>
            </div>

            <div sec:authorize="hasRole('ROLE_ADMIN')">
                <div th:replace="~{fragments/dashboard-views :: admin-dashboard}"></div>
            </div>

            <div sec:authorize="hasRole('ROLE_TELLER')">
                <div th:replace="~{fragments/dashboard-views :: teller-dashboard}"></div>
            </div>

            <div sec:authorize="hasRole('ROLE_MANAGER')">
                <div th:replace="~{fragments/dashboard-views :: manager-dashboard}"></div>
            </div>

            <div sec:authorize="hasAnyRole('ROLE_COMPLIANCE', 'ROLE_AUDITOR')">
                <div th:replace="~{fragments/dashboard-views :: compliance-dashboard}"></div>
            </div>

            <div sec:authorize="hasRole('ROLE_RELATIONSHIP_MGR')">
                <div th:replace="~{fragments/dashboard-views :: rm-dashboard}"></div>
            </div>

            <div sec:authorize="hasRole('ROLE_SUPER_ADMIN')">
                <div th:replace="~{fragments/dashboard-views :: super-admin-dashboard}"></div>
            </div>
            
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script th:src="@{/js/app.js}"></script>
    </body>
</html>