<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div th:fragment="customer-dashboard">
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="card dashboard-card shadow-sm">
                        <div class="card-body">
                            <h6>Total Accounts</h6>
                            <h3 th:text="${totalAccounts}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card shadow-sm">
                        <div class="card-body">
                            <h6>Total Balance</h6>
                            <h3>₹ <span th:text="${totalBalance}">0</span></h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card shadow-sm">
                        <div class="card-body">
                            <h6>Transactions</h6>
                            <h3 th:text="${totalTransactions}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card shadow-sm">
                        <div class="card-body">
                            <h6>Active Loans</h6>
                            <h3 th:text="${activeLoans}">0</h3>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-5 shadow-sm">
                <div class="card-body">
                    <div
                        class="d-flex justify-content-between align-items-center mb-3"
                    >
                        <h5 class="mb-0">Recent Transactions</h5>
                        <a
                            th:href="@{/transactions}"
                            class="btn btn-sm btn-outline-primary"
                            >View All</a
                        >
                    </div>

                    <div class="table-responsive">
                        <table class="table table-hover align-middle">
                            <thead class="table-light">
                                <tr>
                                    <th>Account No</th>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Balance After</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="tx : ${recentTransactions}">
                                    <td
                                        th:text="${tx.account.accountNumber}"
                                    ></td>
                                    <td
                                        th:text="${#temporals.format(tx.transactionTime, 'dd-MM-yyyy HH:mm')}"
                                    ></td>
                                    <td>
                                        <span
                                            th:text="${tx.type}"
                                            th:classappend="${tx.type == 'CREDIT'} ? 'badge bg-success' : 'badge bg-danger'"
                                        >
                                        </span>
                                    </td>
                                    <td>
                                        ₹ <span th:text="${tx.amount}"></span>
                                    </td>
                                    <td>
                                        ₹
                                        <span
                                            th:text="${tx.balanceAfter}"
                                        ></span>
                                    </td>
                                </tr>
                                <tr
                                    th:if="${#lists.isEmpty(recentTransactions)}"
                                >
                                    <td
                                        colspan="5"
                                        class="text-center text-muted"
                                    >
                                        No transactions found
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div th:fragment="admin-dashboard">
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="card dashboard-card admin shadow-sm">
                        <div class="card-body">
                            <h6>Total Users</h6>
                            <h3 th:text="${totalUsers}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card admin shadow-sm">
                        <div class="card-body">
                            <h6>Active Accounts</h6>
                            <h3 th:text="${activeAccounts}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card admin shadow-sm">
                        <div class="card-body">
                            <h6>Pending Beneficiaries</h6>
                            <h3 th:text="${pendingApprovals}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card admin shadow-sm">
                        <div class="card-body">
                            <h6>Fraud Alerts</h6>
                            <h3 th:text="${fraudCount}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card dashboard-card admin shadow-sm">
                        <div class="card-body">
                            <h6>Pending Accounts</h6>
                            <h3 th:text="${pendingAccountCount}">0</h3>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col-md-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h6 class="mb-3">User Distribution</h6>
                            <canvas id="userChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h6 class="mb-3">Loan Status</h6>
                            <canvas id="loanChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <script th:inline="javascript">
                   const roleLabels = [
                       'CUSTOMER','CORPORATE','TELLER','RELATIONSHIP_MGR','COMPLIANCE','ADMIN','AUDITOR','MANAGER','SUPER_ADMIN'
                   ];

                    const roleData = [
                       [[${customerCount}]],
                       [[${corporateCount}]],
                       [[${tellerCount}]],
                       [[${relationship_mgrCount}]],
                       [[${complianceCount}]],
                       [[${adminCount}]],
                       [[${auditorCount}]],
                       [[${managerCount}]],
                       [[${super_adminCount}]]
                   ];

                    const roleColors = [
                       '#2563eb', '#dc2626', '#16a34a', '#9333ea',
                       '#f59e0b', '#64748b', '#0ea5e9', '#ef4444', '#22c55e'
                   ];


                               // USER PIE CHART
                              new Chart(document.getElementById('userChart'), {
                       type: 'pie',
                       data: {
                           labels: roleLabels,
                           datasets: [{
                               data: roleData,
                               backgroundColor: roleColors
                           }]
                       }
                   });

                const loanApproved = [[${loanApproved}]];
                               const loanPending = [[${loanPending}]];
                               const loanRejected = [[${loanRejected}]];

                               // LOAN STATUS BAR CHART
                               new Chart(document.getElementById('loanChart'), {
                                   type: 'bar',
                                   data: {
                                       labels: ['Approved', 'Pending', 'Rejected'],
                                       datasets: [{
                                           data: [loanApproved, loanPending, loanRejected],
                                           backgroundColor: ['#16a34a', '#facc15', '#dc2626']
                                       }]
                                   }
                               });
            </script>
        </div>

        <div th:fragment="teller-dashboard">
            <div
                th:if="${success}"
                class="alert alert-success alert-dismissible fade show"
            >
                <i class="bi bi-check-circle-fill me-2"></i>
                <span th:text="${success}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                ></button>
            </div>
            <div
                th:if="${error}"
                class="alert alert-danger alert-dismissible fade show"
            >
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <span th:text="${error}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                ></button>
            </div>

            <div class="row g-4">
                <div class="col-lg-8">
                    <div class="card shadow-sm mb-4">
                        <div class="card-body">
                            <form
                                th:action="@{/teller}"
                                method="get"
                                class="row g-2 align-items-center"
                            >
                                <div class="col-auto">
                                    <i
                                        class="bi bi-search text-muted fs-4 ms-2"
                                    ></i>
                                </div>
                                <div class="col">
                                    <input
                                        type="text"
                                        name="searchAccountNo"
                                        class="form-control form-control-lg border-0"
                                        placeholder="Scan or Enter Customer Account Number..."
                                        th:value="${searchAccountNo}"
                                        autofocus
                                    />
                                </div>
                                <div class="col-auto">
                                    <button
                                        type="submit"
                                        class="btn btn-primary btn-lg"
                                    >
                                        Find Account
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div
                        th:if="${customerAccount != null}"
                        class="card shadow-sm border-primary"
                    >
                        <div
                            class="card-header bg-primary text-white d-flex justify-content-between align-items-center"
                        >
                            <span
                                ><i class="bi bi-person-check me-2"></i>
                                Customer Verified</span
                            >
                            <span
                                class="badge bg-white text-primary"
                                th:text="${customerAccount.status}"
                                >ACTIVE</span
                            >
                        </div>

                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6 border-end">
                                    <small class="text-muted"
                                        >Account Holder</small
                                    >
                                    <h4
                                        th:text="${customerAccount.user.username}"
                                    >
                                        User Name
                                    </h4>
                                    <small class="text-muted"
                                        >Account Number</small
                                    >
                                    <div
                                        class="fw-bold text-dark"
                                        th:text="${customerAccount.accountNumber}"
                                    ></div>
                                </div>
                                <div class="col-md-6 text-end">
                                    <small class="text-muted"
                                        >Current Balance</small
                                    >
                                    <h2 class="text-success fw-bold">
                                        ₹
                                        <span
                                            th:text="${customerAccount.balance}"
                                            >0.00</span
                                        >
                                    </h2>
                                    <small
                                        class="text-muted"
                                        th:text="${customerAccount.accountType}"
                                        >SAVINGS</small
                                    >
                                </div>
                            </div>

                            <ul
                                class="nav nav-pills nav-fill mb-3"
                                id="tellerTabs"
                                role="tablist"
                            >
                                <li class="nav-item">
                                    <button
                                        class="nav-link active"
                                        data-bs-toggle="pill"
                                        data-bs-target="#deposit-tab"
                                    >
                                        <i
                                            class="bi bi-arrow-down-circle me-2"
                                        ></i>
                                        Deposit
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button
                                        class="nav-link"
                                        data-bs-toggle="pill"
                                        data-bs-target="#withdraw-tab"
                                    >
                                        <i
                                            class="bi bi-arrow-up-circle me-2"
                                        ></i>
                                        Withdraw
                                    </button>
                                </li>
                            </ul>

                            <div
                                class="tab-content border rounded p-3 bg-light"
                            >
                                <div
                                    class="tab-pane fade show active"
                                    id="deposit-tab"
                                >
                                    <form
                                        th:action="@{/teller/deposit}"
                                        method="post"
                                    >
                                        <input
                                            type="hidden"
                                            name="accountNumber"
                                            th:value="${customerAccount.accountNumber}"
                                        />
                                        <div class="input-group mb-3">
                                            <span class="input-group-text"
                                                >₹</span
                                            >
                                            <input
                                                type="number"
                                                name="amount"
                                                class="form-control"
                                                placeholder="Enter Amount"
                                                required
                                                min="1"
                                            />
                                            <button
                                                class="btn btn-success"
                                                type="submit"
                                            >
                                                Confirm Deposit
                                            </button>
                                        </div>
                                    </form>
                                </div>

                                <div class="tab-pane fade" id="withdraw-tab">
                                    <form
                                        th:action="@{/teller/withdraw}"
                                        method="post"
                                    >
                                        <input
                                            type="hidden"
                                            name="accountNumber"
                                            th:value="${customerAccount.accountNumber}"
                                        />
                                        <div class="input-group mb-3">
                                            <span class="input-group-text"
                                                >₹</span
                                            >
                                            <input
                                                type="number"
                                                name="amount"
                                                class="form-control"
                                                placeholder="Enter Amount"
                                                required
                                                min="1"
                                            />
                                            <button
                                                class="btn btn-danger"
                                                type="submit"
                                            >
                                                Authorize Withdrawal
                                            </button>
                                        </div>
                                        <div class="form-text text-danger">
                                            <i
                                                class="bi bi-exclamation-circle"
                                            ></i>
                                            Verify ID Proof before dispensing
                                            cash.
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        th:if="${customerAccount == null}"
                        class="text-center py-5 text-muted"
                    >
                        <i
                            class="bi bi-bank2 display-1 mb-3 text-secondary opacity-25"
                        ></i>
                        <p>
                            Enter an account number above to start a
                            transaction.
                        </p>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="row g-3 mb-4">
                        <div class="col-6">
                            <div
                                class="card bg-success text-white shadow-sm h-100"
                            >
                                <div class="card-body text-center p-2">
                                    <small>Drawer Cash</small>
                                    <h4 class="mb-0">
                                        ₹
                                        <span
                                            th:text="${#numbers.formatDecimal(cashInDrawer, 0, 'COMMA', 0, 'POINT')}"
                                        ></span>
                                    </h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div
                                class="card bg-primary text-white shadow-sm h-100"
                            >
                                <div class="card-body text-center p-2">
                                    <small>Served</small>
                                    <h4
                                        class="mb-0"
                                        th:text="${customersServed}"
                                    >
                                        0
                                    </h4>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card shadow-sm h-100">
                        <div class="card-header bg-white py-2">
                            <h6
                                class="mb-0 small fw-bold text-uppercase text-muted"
                            >
                                Session Log
                            </h6>
                        </div>
                        <div
                            class="list-group list-group-flush overflow-auto"
                            style="max-height: 400px"
                        >
                            <div
                                th:each="tx : ${todayTransactions}"
                                class="list-group-item"
                            >
                                <div
                                    class="d-flex justify-content-between align-items-center mb-1"
                                >
                                    <span
                                        class="badge"
                                        th:classappend="${tx.type == 'CASH_DEPOSIT'} ? 'bg-success-subtle text-success' : 'bg-danger-subtle text-danger'"
                                        th:text="${tx.type == 'CASH_DEPOSIT' ? 'DEP' : 'WDL'}"
                                    >
                                    </span>
                                    <small
                                        class="text-muted"
                                        th:text="${#temporals.format(tx.timestamp, 'HH:mm')}"
                                        >10:00</small
                                    >
                                </div>
                                <div
                                    class="d-flex justify-content-between align-items-center"
                                >
                                    <span
                                        class="small fw-bold text-dark"
                                        th:text="${tx.targetAccount.accountNumber}"
                                        >ACC123</span
                                    >
                                    <span
                                        class="fw-bold"
                                        th:classappend="${tx.type == 'CASH_DEPOSIT'} ? 'text-success' : 'text-danger'"
                                    >
                                        ₹
                                        <span th:text="${tx.amount}">5000</span>
                                    </span>
                                </div>
                            </div>

                            <div
                                th:if="${#lists.isEmpty(todayTransactions)}"
                                class="p-4 text-center text-muted small"
                            >
                                No transactions yet today.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div th:fragment="teller-dashboard">
         <h2 class="mb-4 text-primary">
                <i class="bi bi-bank2 me-2"></i> Branch Teller Operations
            </h2>

            <div
                th:if="${success}"
                class="alert alert-success alert-dismissible fade show"
            >
                <i class="bi bi-check-circle-fill me-2"></i>
                <span th:text="${success}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                ></button>
            </div>
            <div
                th:if="${error}"
                class="alert alert-danger alert-dismissible fade show"
            >
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <span th:text="${error}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                ></button>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <form
                        th:action="@{/teller}"
                        method="get"
                        class="row g-3 align-items-end"
                    >
                        <div class="col-md-4">
                            <label class="form-label fw-bold"
                                >Customer Account Number</label
                            >
                            <input
                                type="text"
                                name="searchAccountNo"
                                class="form-control"
                                placeholder="Enter Account No"
                                required
                            />
                        </div>
                        <div class="col-md-2">
                            <button type="submit" class="btn btn-primary w-100">
                                <i class="bi bi-search"></i> Find
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div th:if="${customerAccount != null}" class="row g-4 mb-5">
                <div class="col-md-4">
                    <div class="card bg-light border-0 h-100">
                        <div class="card-body text-center pt-5">
                            <div class="mb-3">
                                <i
                                    class="bi bi-person-circle display-4 text-secondary"
                                ></i>
                            </div>
                            <h4 th:text="${customerAccount.user.username}">
                                User Name
                            </h4>
                            <p class="text-muted mb-1">Account Number</p>
                            <h5
                                class="fw-bold text-dark"
                                th:text="${customerAccount.accountNumber}"
                            >
                                12345
                            </h5>
                            <hr />
                            <p class="text-muted mb-1">Current Balance</p>
                            <h2 class="text-success fw-bold">
                                ₹
                                <span th:text="${customerAccount.balance}"
                                    >0.00</span
                                >
                            </h2>
                            <span
                                class="badge bg-success"
                                th:text="${customerAccount.accountType}"
                                >SAVINGS</span
                            >
                            <span
                                class="badge bg-info text-dark"
                                th:text="${customerAccount.status}"
                                >ACTIVE</span
                            >
                        </div>
                    </div>
                </div>

                <div class="col-md-8">
                    <div class="card shadow-sm h-100">
                        <div class="card-header bg-white">
                            <ul
                                class="nav nav-tabs card-header-tabs"
                                id="tellerTabs"
                                role="tablist"
                            >
                                <li class="nav-item">
                                    <a
                                        class="nav-link active"
                                        id="deposit-tab"
                                        data-bs-toggle="tab"
                                        href="#deposit"
                                        role="tab"
                                    >
                                        <i
                                            class="bi bi-arrow-down-circle text-success me-2"
                                        ></i>
                                        Cash Deposit
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a
                                        class="nav-link"
                                        id="withdraw-tab"
                                        data-bs-toggle="tab"
                                        href="#withdraw"
                                        role="tab"
                                    >
                                        <i
                                            class="bi bi-arrow-up-circle text-danger me-2"
                                        ></i>
                                        Cash Withdrawal
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body tab-content">
                            <div
                                class="tab-pane fade show active"
                                id="deposit"
                                role="tabpanel"
                            >
                                <form
                                    th:action="@{/teller/deposit}"
                                    method="post"
                                    class="p-3"
                                >
                                    <input
                                        type="hidden"
                                        name="accountNumber"
                                        th:value="${customerAccount.accountNumber}"
                                    />
                                    <div class="mb-4">
                                        <label class="form-label"
                                            >Deposit Amount (₹)</label
                                        >
                                        <input
                                            type="number"
                                            name="amount"
                                            class="form-control form-control-lg"
                                            min="1"
                                            required
                                        />
                                    </div>
                                    <button
                                        type="submit"
                                        class="btn btn-success btn-lg w-100"
                                    >
                                        Confirm Deposit
                                        <i class="bi bi-check-lg"></i>
                                    </button>
                                </form>
                            </div>

                            <div
                                class="tab-pane fade"
                                id="withdraw"
                                role="tabpanel"
                            >
                                <form
                                    th:action="@{/teller/withdraw}"
                                    method="post"
                                    class="p-3"
                                >
                                    <input
                                        type="hidden"
                                        name="accountNumber"
                                        th:value="${customerAccount.accountNumber}"
                                    />
                                    <div class="mb-4">
                                        <label class="form-label"
                                            >Withdrawal Amount (₹)</label
                                        >
                                        <input
                                            type="number"
                                            name="amount"
                                            class="form-control form-control-lg"
                                            min="1"
                                            required
                                        />
                                        <div class="form-text text-danger">
                                            ⚠️ Ensure ID Proof is verified
                                            before proceeding.
                                        </div>
                                    </div>
                                    <button
                                        type="submit"
                                        class="btn btn-danger btn-lg w-100"
                                    >
                                        Authorize Withdrawal
                                        <i class="bi bi-shield-lock"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0 fw-bold">Recent Counter Transactions</h6>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>Tx ID</th>
                                <th>Time</th>
                                <th>Operation</th>
                                <th>Account</th>
                                <th>Amount</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="tx : ${history}">
                                <td
                                    class="text-muted small"
                                    th:text="'#TX-' + ${tx.id}"
                                ></td>
                                <td
                                    th:text="${#temporals.format(tx.timestamp, 'HH:mm')}"
                                ></td>
                                <td>
                                    <span
                                        th:text="${tx.type}"
                                        th:classappend="${tx.type == 'CASH_DEPOSIT'} ? 'badge bg-success-subtle text-success' : 'badge bg-danger-subtle text-danger'"
                                    >
                                    </span>
                                </td>
                                <td
                                    class="fw-bold"
                                    th:text="${tx.targetAccount.accountNumber}"
                                ></td>
                                <td class="fw-bold">
                                    ₹ <span th:text="${tx.amount}"></span>
                                </td>
                                <td>
                                    <span
                                        class="badge bg-secondary"
                                        th:text="${tx.status}"
                                        >COMPLETED</span
                                    >
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
    </div> -->

        <div th:fragment="manager-dashboard">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card border-warning shadow-sm">
                        <div class="card-body">
                            <h6 class="text-warning">Pending Loans</h6>
                            <h2 th:text="${pendingLoans}">0</h2>
                            <a
                                th:href="@{/manager/loans}"
                                class="stretched-link"
                            ></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-info shadow-sm">
                        <div class="card-body">
                            <h6 class="text-info">Pending Accounts</h6>
                            <h2 th:text="${pendingAccounts}">0</h2>
                            <a
                                th:href="@{/manager/accounts}"
                                class="stretched-link"
                            ></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-success shadow-sm">
                        <div class="card-body">
                            <h6 class="text-success">Branch Deposits</h6>
                            <h2>₹ <span th:text="${branchDeposits}"></span></h2>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <div class="card h-100">
                    <div class="card-body text-center py-5">
                        <i
                            class="bi bi-bar-chart-steps display-4 text-muted"
                        ></i>
                        <h5 class="mt-3">Branch Performance Report</h5>
                        <a
                            th:href="@{/manager/reports}"
                            class="btn btn-outline-primary mt-2"
                            >View Reports</a
                        >
                    </div>
                </div>
            </div>
        </div>
        <div th:fragment="compliance-dashboard">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card bg-danger text-white">
                        <div class="card-body">
                            <h3>
                                <i class="bi bi-shield-exclamation me-2"></i>
                                <span th:text="${fraudCount}"></span>
                            </h3>
                            <p class="mb-0">Active Fraud Alerts</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card bg-dark text-white">
                        <div class="card-body">
                            <h3>
                                <i class="bi bi-flag me-2"></i>
                                <span th:text="${flaggedTransactions}"></span>
                            </h3>
                            <p class="mb-0">Flagged Transactions</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card bg-light border">
                        <div class="card-body">
                            <h3>
                                <i class="bi bi-journal-text me-2"></i>
                                <span th:text="${auditLogCount}"></span>
                            </h3>
                            <p class="mb-0">System Logs Today</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <h5>Quick Actions</h5>
                <div class="d-flex gap-2">
                    <a th:href="@{/compliance/fraud}" class="btn btn-outline-danger">Review Fraud Alerts</a>
                    <a th:href="@{/reports/audit}" class="btn btn-outline-dark">Download Compliance Report</a>
                </div>
            </div>
        </div>
        <div th:fragment="rm-dashboard">
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h6>Assigned HNI Clients</h6>
                            <h2 th:text="${assignedClients}">0</h2>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h6>Total Portfolio Value (AUM)</h6>
                            <h2>₹ <span th:text="${totalAum}">0</span></h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div th:fragment="super-admin-dashboard">
            <div class="row g-4 mb-4">
                <div class="col-md-3">
                    <div class="card bg-dark text-white shadow">
                        <div class="card-body text-center">
                            <i class="bi bi-memory display-4"></i>
                            <h5 class="mt-3">Memory Usage</h5>
                            <h3>
                                <span th:text="${stats.heapUsed}">0</span> /
                                <span th:text="${stats.heapMax}">0</span> MB
                            </h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-info text-white shadow">
                        <div class="card-body text-center">
                            <i class="bi bi-clock-history display-4"></i>
                            <h5 class="mt-3">Uptime</h5>
                            <h3 th:text="${stats.uptime}">0 mins</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-warning text-dark shadow">
                        <div class="card-body text-center">
                            <i class="bi bi-diagram-3 display-4"></i>
                            <h5 class="mt-3">Active Threads</h5>
                            <h3 th:text="${stats.threads}">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <a
                        th:href="@{/super-admin/sql}"
                        class="text-decoration-none"
                    >
                        <div
                            class="card bg-danger text-white shadow h-100 hover-scale"
                        >
                            <div
                                class="card-body text-center d-flex flex-column justify-content-center"
                            >
                                <i
                                    class="bi bi-database-fill-gear display-4"
                                ></i>
                                <h4 class="mt-2">SQL Console</h4>
                                <small>Execute Raw Queries</small>
                            </div>
                        </div>
                    </a>
                </div>
            </div>

            <div class="alert alert-warning border-warning">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <strong>Warning:</strong> You are logged in as Super Admin.
                Actions performed here affect the entire database directly.
            </div>
        </div>
    </body>
</html>
