<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"><meta charset="utf-8"></head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>
<div th:replace="~{fragments/sidebar :: sidebar}"></div>

<div class="main-content container-fluid mt-4">

    <!-- Header -->
    <div class="mb-3">
        <h4>Audit Logs</h4>
        <p class="text-muted small">
            System activity and security audit trail
        </p>
    </div>

    <!-- Empty State -->
    <div th:if="${logs.isEmpty()}"
         class="alert alert-info">
        No audit records found.
    </div>

    <!-- Audit Table -->
    <div class="card shadow-sm"
         th:if="${!logs.isEmpty()}">
        <div class="card-body p-0">

            <table class="table table-hover mb-0">
                <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>User</th>
                        <th>Action Performed</th>
                        <th>Date & Time</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="log : ${logs}">
                        <td th:text="${log.id}"></td>
                        <td>
                            <span class="badge bg-secondary"
                                  th:text="${log.username}">
                            </span>
                        </td>

                        <td th:text="${log.action}"></td>

                        <td th:text="${#temporals.format(log.timestamp,
                                 'dd MMM yyyy, HH:mm:ss')}">
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/app.js}"></script>
</body>
</html>
