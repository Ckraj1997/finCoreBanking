<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/head :: head}"> </head>
    <body>
        <div th:replace="~{fragments/navbar :: navbar}"></div>
        <div th:replace="~{fragments/sidebar :: sidebar}"></div>

        <div class="main-content">
            <div class="d-flex justify-content-between mb-4">
                <h4>My Accounts</h4>
                <a th:href="@{/accounts/create}" class="btn btn-primary">
                    + Create Account
                </a>
            </div>

            <div class="row">
                <div class="col-md-4 mb-4" th:each="acc : ${accounts}">
                    <div
                        class="card shadow-sm account-card"
                        th:onclick="|window.location='/accounts/${acc.id}'|"
                        style="cursor: pointer"
                    >
                        <div class="card-body">
                            <h6 th:text="${acc.accountType}"></h6>
                            <h5 th:text="${acc.accountNumber}"></h5>

                            <p>â‚¹ <span th:text="${acc.balance}"></span></p>

                            <span
                                class="badge"
                                th:text="${acc.status}"
                                th:classappend="
                        ${acc.status=='ACTIVE'} ? ' bg-success' :
                        (${acc.status=='PENDING'} ? ' bg-warning' :
                        ' bg-danger')"
                            >
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script th:src="@{/js/app.js}"></script>
    </body>
</html>
