<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"><meta charset="utf-8"></head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>
<div th:replace="~{fragments/sidebar :: sidebar}"></div>

<div class="main-content container-fluid mt-4">

    <!-- Header -->
    <div class="mb-3">
        <h4>Fraud Detection Logs</h4>
        <p class="text-muted small">
            Suspicious activities detected by the system
        </p>
    </div>

    <!-- Empty State -->
    <div th:if="${frauds.isEmpty()}"
         class="alert alert-success">
        No fraud activities detected.
    </div>

    <!-- Fraud Logs Table -->
    <div class="card shadow-sm"
         th:if="${!frauds.isEmpty()}">
        <div class="card-body p-0">

            <table class="table table-hover mb-0">
                <thead class="table-light">
                    <tr>
                        <th>User</th>
                        <th>Reason</th>
                        <th>Date & Time</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="f : ${frauds}">
                        <td>
                            <span class="badge bg-danger"
                                  th:text="${f.username}">
                            </span>
                        </td>

                        <td th:text="${f.reason}"></td>

                        <td th:text="${#temporals.format(f.detectedAt,
                                 'dd MMM yyyy, HH:mm:ss')}">
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/app.js}"></script>
</body>
</html>
